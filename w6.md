# W6. `Mar13 - Mar17`

Esta semana se continúa la implementación de Liqen Core. Concretamente se van a implementar los recursos `Fact`, `Question` y `Annotation`.

Question representa una pregunta. La pregunta tiene un título (`title`) y se puede etiquetar.

El objeto Annotation es algo más complejo. Representa una selección de una porción de un artículo. También se puede etiquetar.

## Question y Annotation

![](http://www.plantuml.com/plantuml/png/jL91RiCW4Bpx5HoRLFv03v7QlY1gxn72OnkLWWLBwwZAtml6O9JwsWlix8vcTbacBZxu0FPfEYZ7VXgXk7FiMMj3dAJH8SNOe-pYoIr9eN19YFZWbgodqTYKiGEekJMhoXiK11cRDEWw8TvVN7bif7VCTFQ6iC-UB7evnmWp5nG3v_kOAWfd3tVVAabIA5rkPdmeh5jCJ-lymcYoHYbOjn3kd-6rr9ToLD0TveT30cuqtpaM5foGaP-w2eL7neg2URR90_o7IR3PdQArSXYfFLKpDZjz55gkLMgiLUYfFMvxVcBh5_Yxr6CYrzouMOtkvLgCMHlKuewYKDXRxPKQgSk_)

En ambos casos, es necesario que los objetos Question y Annotation estén vinculados con objetos Tag. En definitiva, también hay que habilitar una manera de añadir y quitar etiquetas a preguntas y anotaciones.

Esto se ha resuelto creando, primero, sendos modelos `QuestionTag` y `AnnotationTag` que gestionan estas relaciones. Después, se han implementado controladores para habilitar acciones HTTP para quitar y añadir etiquetas.

Se ha elegido el siguiente criterio

Verbo HTTP | Endpoint HTTP           | Descripción
:--------- | :------------           | :----------
GET        | /questions              | Obtener una lista de todas las preguntas
GET        | /questions/:id          | Obtener la pregunta cuyo ID es `:id`
POST       | /questions              | Crear una nueva pregunta
PUT        | /questions/:id          | Modificar la pregunta cuyo ID es `:id`
DELETE     | /questions/:id          | Eliminar la pregunta cuyo ID es `:id`
POST       | /questions/:id/tags/    | Añadir una etiqueta a la pregunta `:id`
DELETE     | /questions/:id/tags/:tid| Eliminar la etiqueta `:tid` de la pregunta `:Id`

(ídem para `annotations` en lugar de `questions`)

## Fact
